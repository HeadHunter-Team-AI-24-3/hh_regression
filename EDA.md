# Выводы по EDA

После парсинга мы получили DF с 709.572 наблюдениями и 122 фичами, этого будет более, чем достаточно. В дальнейшем, возможно, понадобиться масшабирование, чтобы снизить вес данных, нынешний вес составляет 3.5 ГБ. В таблице есть категориальные, непрерывные и дискретные переменные, будем рассматривать каждый признак по отдельности. Также наш датасет имеет уйму пропусков, которые необходимо будет предобработать для некоторых моделей ML.

Стоит посмотреть на столбцы salary_from	и salary_to, которые являются нашим таргетом. В дальнейшем необходимо агрегировать два столбца, чтобы не угадывать вилку, а конкретную цифру.

Как уже говорилось, наш DF имеет достаточно много NaN значений, в некоторых столбцах доходит до 99%. Однако, что самое важное: мы имеем пропуски в заработной плате. В дальнейшем необходимо исправить пропуски в каждом столбце.


9. salary_from - Начало вилки ЗП.
10. salary_to - Конец вилки ЗП.

Как мы можем видеть, на некоторых вакансиях ЗП указана в других валютах. Нам необходимо нормализировать зарабаток в рубли.
Был добавлен новый столбец - salary, целевая переменная путём усреднения данных столбцов salary_from и salary_to (0% NaN). Также некоторые ЗП были указаны в других валютах, необходимо было перевести на RUR.

В данных есть выбросы: ЗП по 3-9 млн. рублей, в дальнейшем никак не будем их удалять - информация является достоверной, указанной на сайте HH. Большинство вакансий с такой вилкой - агенты по недвижимости.

Целевая переменная имеет вид нормального распределения с правосторонней ассиметрией. В дальнейшем можно попробовать прогогорифмировать данные, это позволить снизить выбросы и добавить линейности данным.


62. employer_accredited_it_employer - Является ли компания аккредетированной.

Хоть процент пропущенных значений слишком мал, заполним пропуски константой Unknown, чтобы не терять информацию. В дальнейшем посмотрим влияет ли пропуск на зарплату кандидата.

Столбец employer_accredited_it_employer содержит в себе информацию об аккредитации компании. Object, можно перевести в int, чтобы понизить вес данных. В данных было 0.113% пропусков - заменили на константу Unknown. Большинство работодателей (~97%) не имею аккредитации, что влияет на медианную ЗП, которую платит работодатель:
-   С аккредитацией: медиана равна 96.242 рублей, 50% данных находится в диапазоне от ~60к до ~ 180к, максимальное значение усов доходит до ~360к. Есть выбросы;
-   Без аккредитации: медиана равна 70.000 рублей, 50% данных находится в диапазоне от ~50к до ~ 110к, максимальное значение усов доходит до ~200к. Есть выбросы;
-   Без уточения аккредитации: медиана равна 110.000 рублей, 50% данных находится в диапазоне от ~80к до ~ 160к, максимальное значение усов доходит до ~360к. Есть выбросы.

Тест Крускала-Уоллиса доказал, что есть статистически значимые различия между тремя группами, также доверительные интервалы средних значений различны. Зависимость через корреляцию Phik не была выявлена.

66. schedule_id - графика рабочего дня, id.
67. schedule_name - графика рабочего дня, name.

Можем заметить, что данные столбцы несут в себе одну и ту же информацию - удалим один из них для избежания мультикорреляции, а также понизим масштаб данных.

Был удалён столбец schedule_id, тк он полностью повторяет стоббец schedule_name - название графика рабочего дня. Пропусков и анамалий в данных нет, всего у нас 5 уникальных объектов:

1. **Полный день**. Самый частый график, который предлагает работодатель - 61,7%. При этом занимает 3 место по ЗП: медианное значение состовляет 70.000 рублей, 50% данных лежит в пределах 50к - 100к, max значение по усам достигает ~180к.
2. **Сменный график**. 17.6% от всех графиков. Последнее место по ЗП: медианное значение состовляет 62.010 рублей, 50% данных лежит в пределах 45.000 - 87.500, max значение по усам достигает ~140к.
3. **Удаленная работа**. Самый редкий график рабочего дня, который предлагает работодатель - 5.1%. Занимает 4 место по ЗП: медианное значение состовляет 58.500 рублей, 50% данных лежит в пределах 42.250 - 95.000, max значение по усам достигает ~160к.
4. **Гибкий график**. 7% от общего объёма вакансий. Занимает 2 место по ЗП: медианное значение состовляет 72.600 рублей, 50% данных лежит в пределах 43.400 - 120000, max значение по усам достигает ~240к.
5. **Вахтовый метод**. 8.6%. Очевидно 1 место по ЗП: медианное значение состовляет 155.000 рублей, 50% данных лежит в пределах 120.000 - 197.500, max значение по усам достигает ~320к.

68. accept_temporary - вакансии на временной основе, bool.

Столбец accept_temporary может означать:

- true: Соискатель готов принимать вакансии на временной основе (контрактные, краткосрочные проекты и т.д.).
- false: Соискатель заинтересован только в постоянных рабочих местах, и временные позиции его не устраивают.

При этом нет особой разницы в при разных значениях, разве что True немного превышет ЗП ожидания.

69. professional_roles_0_id - профессия, id.
70. professional_roles_0_name - профессия, name.

Как мы могли заметить, у нас было 2 стольца повторяющие друг друга: id и name. Ввиду повторения (наслаивания) уникальных значений у нас может возникнуть мультикорреляция данных, что плохо отразится на обещающей способности модели, поэтому мы удалили столбцы, которые несут в себе схожую информацию.

Медианные и среднии значения дают похожие результаты: самая большая ЗП у водителей, будь то машинисты или курьеры. Самая маленькая ЗП принадлежит работникам в сфере обслуживания: уборщик, дворник и т.п.

Также был проведён тест Краскела-Уоллиса - непараметрический статистический тест, используемый для проверки значимости различий между тремя или более независимыми группами выборок. Он является обобщением критерия Манна-Уитни для более чем двух групп и применяется, когда соблюдение нормального распределения данных не может быть гарантировано. Опираясь на его результаты, можно с уверенностью сказать, что существуют статистически значимая зависимость между профессией и зарплатой.

71. accept_incomplete_resumes - отклик без резюме, bool.

Данная переменная содержит информацию о вероятности привлечения внимания работодателя при отправке отклика без резюме. Статистический тест продемонстрировал отсутствие значимых различий в средних заработных платах.

72. experience_id - опыт работы, id.
73. experience_name - опыт работы, name.

Как и при городах, мы удалим id ввиду мультикорреляции, чтобы в дальнейшем возможно было анализировать наименования.

Тест Краскела-Уоллиса показал, что существуют статистически значимая зависимость между стажем и зарплатой. Нетрудно предположить - чем больше опыт работы, чем больше у тебя накопленных умений, знаний и понимания деятельности, тем больше тебе будут платить:

- **Нет опыта**. Медиана равна 60.000, в то время, как первый и последний квантили бокса (25 и 75): 43.000 и 90.000 соотвественно.
- **От 1 года до 3 лет**. Медиана находится в 80.000 рублей. Q1 равен 56.500, Q3 = 113.914.
- **От 3 до 6 лет**. Значение медианы начинается подниматься "на глазах", при данном опоте работы оно равно 110.000. Не отступают и квантили: 75.000 и 160.000 рублей.
- **Более 6 лет**. Максимальное значение медианы, за опыт более 6 лет вы получите 130.000 рублей, 25 и 75 квантили находятся в диапазоне от 85000, до 200000.

74. employment_id - тип занятости, id.
75. employment_name - тип занятости, name.

Как и в случае с опытом работы - удалим id.

Краскела-Уоллиса показал, что существует статистически значимая зависимость между стажем и зарплатой:
- **Полная занятость**: Медиана равна 70.700. 25 и 75 перцентали равны 50000 и 108961, соответственно.
- **Частичная занятость**: Медиана равна 65000. 25 и 75 перцентали равны 38547 и 116868, соответственно.
- **Проектная работа**: Медиана равна 82000. 25 и 75 перцентали равны 50000 и 126500, соответственно.
- **Стажировка**: Медиана равна 60000. 25 и 75 перцентали равны 45000 и 91860, соответственно.
- **Волонтерство**: Медиана равна 65000. 25 и 75 перцентали равны 50000 и 102500, соответственно.

Как мы можем видеть, самым выгодным финансово типом занятости является проектная работа, самым "дешёвым" типом из всех представленных - стажировка.

76. is_adv_vacancy - Является ли это вакансия, вакансией соискателя, bool.

Переменная с постоянным значением не предоставляет полезной информации для модели, зато усложняет её архитектуру и замедляет процесс вычислений, что может негативно отразиться на аппроксимирующих свойствах модели. Удалим.

77. address_metro_stations_3_station_name - станция метро, name.
78. address_metro_stations_3_line_name - линия метро, name.
79. address_metro_stations_3_station_id - станция метро, id.
80. address_metro_stations_3_line_id - линия метро, id.

Ещё раз удаляем идентификаторы.

В данной выборке наблюдается значительное количество отсутствующих значений, что вполне оправдано, так как не во всех городах существует метро. Пропуски были заполнены постоянной величиной 'Missing'.

Самыми прибыльными станциями метро являются центральные станции в Москве, тогда как "наименее оплачиваемые" станции находятся в метро города Алматы, преимущественно на его окраинах.

Статистический тест Краскела-Уоллиса выявил наличие статистически значимой зависимости между наличием метро и уровнем заработной платы.

Подобная ситуация (пропуски, зависимость) наблюдается и с достаточно коррелирующими по отношению к станциям метро - ветками метро. В будущем, возможно, придётся удалить этот столбец.

81. address_metro_stations_3_lat - долгота станции метро.
82. address_metro_stations_3_lng - широта станции метро.

Произведем исключение избыточных переменных, которые потенциально способны вызвать дублирование информации и, следовательно, негативно повлиять на обобщающую способность модели. Данные, содержащиеся в этих переменных, уже представлены в виде названий станций.

83. working_time_intervals_0_id - возможен график по сменам: начиная с 4-6 часов, id.
84. working_time_intervals_0_name - возможен график по сменам: начиная с 4-6 часов, name.

Данный столбец говорит нам про то, что можно работать сменами по 4-6 часов в день. В датасете были множетсвенные пропусти - заменили константой "Unknown"

t-тест показал, что средние значения зарплат отличаются:

Unknown
Медиана равна 70.329. 25 и 75 перцентали равны 50.000 и 107.500, соответственно.

Можно сменами по 4-6 часов в день
Медиана равна 67.500. 25 и 75 перцентали равны 41.850 и 120.000, соответственно.

85. working_time_modes_0_id - время начала работы: с 16:00, id.
86. working_time_modes_0_name - время начала работы: с 16:00, name.

Фича working_time_modes_0_name приносит информацию в какое время нужно начинать работу: С началом дня после 16:00 или нет.

В датасете были множетсвенные пропусти - заменили константой "Unknown"

T-тест: статистика = 1.5494603875181079, p-значение = 0.12127153289776893, что означает, что средние значения ЗП равны. Этот столбец ни на что не влияет.

87. working_days_0_id - план работы выходные/будни, id.
88. working_days_0_name - план работы выходные/будни, name.

Данный столбец несёт в себе информацию графика работы - выходные/будни. В датасете были множетсвенные пропусти - заменили константой "Unknown".
T-статистика показала, что средние значения зарплат отличаются.

89. branding_type - способ оформления публичного профиля или объявления на сайте.

Столбец branding_type с возможными значениями MAKEUP и CONSTRUCTOR может свидетельствовать о способе оформления публичного профиля или объявления на сайте. Например, значение MAKEUP может обозначать готовый шаблон оформления, тогда как CONSTRUCTOR может указывать на индивидуально созданное пользователем оформление с помощью конструктора. NaN значения были заполнены константой Unknown.

Статистика Краскела-Уоллиса говорит нам о том, что существует статистически значимая зависимость между branding_type и зарплатой.

90. branding_tariff - тарифный план или уровень услуг.

Столбец branding_tariff с такими значениями, как NaN и BASIC, вероятно, указывает на тарифный план или уровень услуг, использованный при публикации объявления. Значение BASIC может означать базовый тариф, предоставляющий стандартный набор функций или видимость, в то время как NaN может означать отсутствие тарифного плана, возможно, из-за использования бесплатных функций или отсутствия информации о тарифе. NaN значения были заполнены константой Unknown.

T-тест показывает, что средние значения зарплат отличаются.

91. department_id - Работодатель, id
92. department_name - Работодатель, name.

Ещё раз удаляем идентификаторы.

NaN значения заполняем константой Unknown.

Самая большая средняя ЗП принадлежит самому сайту HH, также справедливо заметить, что в топе средний ЗП находятся в большинстве своём IT-компании. Пятёрочка лидирует в поиске сотрудников.

Статистика Краскела-Уоллиса показала, что существует статистически значимая зависимость между компанией и зарплатой в ней.

93. insider_interview_id - Сайт роботодателя, id.
94. insider_interview_url - Сайт роботодателя, url.

Мы исключаем все URL-адреса, поскольку они не содержат полезной информации для наших моделей (наслоение). В целом, данный столбец можно преобразовать в булев тип, поскольку он указывает на наличие или отсутствие у компании собственной страницы на сайте HeadHunter. Оставшиеся NaN заполнить константой Unknown.

95-120 Колонки brand_snippet

Стобцы являются лишними так как их заменяет brand_snippet_logo:
1. brand_snippet_logo_xs
2. brand_snippet_logo_scalable_default_width
3. brand_snippet_logo_scalable_default_height
4. brand_snippet_logo_scalable_default_url
5. brand_snippet_logo_scalable_xs_width
6. brand_snippet_logo_scalable_xs_height
7. brand_snippet_logo_scalable_xs_url

Стобцы являются лишними так как их заменяет brand_snippet_picture
1. brand_snippet_picture_xs
2. brand_snippet_picture_scalable_default_width
3. brand_snippet_picture_scalable_default_height
4. brand_snippet_picture_scalable_default_url
5. brand_snippet_picture_scalable_xs_width
6. brand_snippet_picture_scalable_xs_height
7. brand_snippet_picture_scalable_xs_url

Стобцы являются лишними так как их заменяет brand_snippet_background_gradient_color_list_0_color и brand_snippet_background_gradient_color_list_1_color
1. brand_snippet_background_gradient_color_list_0_position
2. brand_snippet_background_gradient_color_list_1_position

Стобцы являются лишними так как не несут в себе достаточно информации
1. brand_snippet_background_gradient_color_list_2_color
2. brand_snippet_background_gradient_color_list_2_position
3. brand_snippet_background_gradient_color_list_3_color
4. brand_snippet_background_gradient_color_list_3_position

Для столбцов
1. brand_snippet_logo
2. brand_snippet_picture
3. brand_snippet_background_color
4. brand_snippet_background_gradient_angle
5. brand_snippet_background_gradient_color_list_0_color
6. brand_snippet_background_gradient_color_list_1_color

NaN заполнили константой Unknown. Статистика Краскела-Уоллиса показала, что существует статистически значимая зависимость между полями и зарплатой.

121. immediate_redirect_url
122. immediate_redirect_vacancy_id

Не содержат полезной информации для моделей
